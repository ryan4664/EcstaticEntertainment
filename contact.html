<!DOCTYPE html>
<html lang="en">
   <head>
      <meta charset="utf-8">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
      <meta name="description" content="">
      <meta name="author" content="">
      <link rel="icon" href="images/favicon-logo.ico">
      <title>Ecstatic Entertainment</title>
      <!-- Bootstrap core CSS -->
      <link href="css/bootstrap.min.css" rel="stylesheet">
      <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
      <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
      <![endif]-->
      <!-- Custom styles for this template -->
      <link href="css/carousel.css" rel="stylesheet">
      <!-- Custom styles -->
      <link href="css/style.css" rel="stylesheet">
      <link href='http://fonts.googleapis.com/css?family=Droid+Sans' rel='stylesheet' type='text/css'>
   </head>
   <!-- NAVBAR
      ================================================== -->
   <body>
      <div class="navbar-wrapper navbar-wrapper-alt">
         <div class="container">
            <nav class="navbar navbar-inverse navbar-static-top">
               <div class="container">
                  <div class="navbar-header">
                     <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
                     <span class="sr-only">Toggle navigation</span>
                     <span class="icon-bar"></span>
                     <span class="icon-bar"></span>
                     <span class="icon-bar"></span>
                     </button>
                     <a class="navbar-brand" href="index.html">Ecstatic Entertainment SK</a>
                  </div>
                  <div id="navbar" class="navbar-collapse collapse">
                     <ul class="nav navbar-nav">
                        <li><a href="index.html">Home</a></li>
                        <li><a href="photo.html">Photography</a></li>
                        <li><a href="offer.html">What We Offer</a></li>
                        <li class="dropdown">
                           <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Build Your Event <span class="caret"></span></a>
                           <ul class="dropdown-menu">
                              <li><a href="make-event-wedding.html">Weddings</a></li>
                              <li><a href="make-event-grad.html">Graduation</a></li>
                              <li><a href="make-event-staff-party.html">Staff Party</a></li>
                              <li role="separator" class="divider"></li>
                              <li><a href="contact.html">Request An Event</a></li>
                           </ul>
                        </li>
                        <li><a href="contact.html">Contact</a></li>
                     </ul>
                  </div>
               </div>
            </nav>
         </div>
      </div>
      <!-- Marketing messaging and featurettes
         ================================================== -->
      <!-- Wrap the rest of the page in another container to center all the content. -->
      <div class="container marketing">
         <!-- START THE FEATURETTES -->
         <div class="row featurette">
            <div class="col-md-12">
               <p class="page-title">Did we miss anything?  Please don't hesitate to contact us!</p>
               <form class="form-horizontal" role="form" method="post" id="contact-form">
                  <div class="form-group">
                     <label for="name" class="col-sm-2 control-label">Name</label>
                     <div class="col-sm-10">
                        <input type="text" class="form-control" id="name" name="name" placeholder="First &amp; Last Name" value="">
                        <p class="formAlert" id="nameAlert"></p>
                     </div>
                  </div>
                  <div class="form-group">
                     <label for="email" class="col-sm-2 control-label">Email</label>
                     <div class="col-sm-10">
                        <input type="email" class="form-control" id="email" name="email" placeholder="example@domain.com" value="">
                        <p class="formAlert" id="emailAlert"></p>
                     </div>
                  </div>
                  <div class="form-group">
                     <label for="message" class="col-sm-2 control-label">Message</label>
                     <div class="col-sm-10">
                        <textarea class="form-control" id="message" rows="4" name="message"></textarea>
                        <p class="formAlert" id="messageAlert"></p>
                     </div>
                  </div>
                  <div class="form-group">
                     <label for="human" class="col-sm-2 control-label">2 + 3 = ?</label>
                     <div class="col-sm-10">
                        <input type="text" class="form-control" id="human" name="human" placeholder="Your Answer">
                        <p class="formAlert" id="testAlert"></p>
                     </div>
                  </div>
                  <div class="form-group">
                     <div class="col-sm-10 col-sm-offset-2">
                        <input id="submit" name="submit" type="submit" value="Send" class="btn btn-primary contact-submit">
                        <p class="formAlert" id="submitAlert"></p>
                     </div>
                  </div>
               </form>
            </div>
         </div>
         <hr class="featurette-divider">
         <!-- /END THE FEATURETTES -->
         <!-- FOOTER -->
         <footer>
            <p class="pull-right"><a href="#">Back to top</a></p>
            <p>&copy; 2015 Ecstatic Entertainment SK &middot;</p>
         </footer>
      </div>
      <!-- /.container -->
      <!-- Bootstrap core JavaScript
         ================================================== -->
      <!-- Placed at the end of the document so the pages load faster -->
      <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
      <script src="http://ajax.aspnetcdn.com/ajax/jquery.validate/1.14.0/jquery.validate.js"></script>
      <script src="js/bootstrap.min.js"></script>
      <script type="text/javascript">
         $(document).ready(function() {
         
             $('form').on('submit', function(e) {
         
                 //stops the page from refreshing
                 e.preventDefault();
         
                 var name = $('#name').val();
                 var email = $('#email').val();
                 var message = $('#message').val();
                 var numCheck = $('#human').val();
         
         
                 var form_submission = $("form").serialize();
                 var form_submit = true;
         
                 if (name.length == 0) {
                     $("#nameAlert").html("Please enter your full name.");
                     $("#nameAlert").addClass("alert alert-danger");
                     form_submit = false;
                 } else if (email.length == 0) {
                     $("#emailAlert").html("Please enter your email address..");
                     $("#emailAlert").addClass("alert alert-danger");
                     form_submit = false;
                 } else if (message.length == 0) {
                     $("#messageAlert").html("Please enter a message.");
                     $("#messageAlert").addClass("alert alert-danger");
                     form_submit = false;
                 } else if (numCheck != 5) {
                     $("#testAlert").html("Please answer the validation question.");
                     $("#testAlert").addClass("alert alert-danger");
                     form_submit = false;
                 }
                 else {
                   form_submit = true;
                 }
         
         
                 if (form_submit) {
                     $.ajax({
                         type: "POST",
                         url: "contact-submission.php",
                         data: form_submission,
                         success: function(data) {
                             $("#name").prop('disabled', true);
                             $("#email").prop('disabled', true);
                             $("#human").prop('disabled', true);
                             $("#message").prop('disabled', true);
                             $("#submit").prop('disabled', true);
                             alert("You message has been sent!");
                             $("#nameAlert").removeClass("alert alert-danger");
                             $("#emailAlert").removeClass("alert alert-danger");
                             $("#messageAlert").removeClass("alert alert-danger");
                             $("#testAlert").removeClass("alert alert-danger");
                             $(".formAlert").empty();
                         },
                         error: function(xhr, ajaxOptions, thrownError) {
                             alert(xhr.status);
                             alert(thrownError);
                             $("#submitAlert").addClass("alert alert-danger");
                             $("#submitAlert").html("An error occured.  Please refresh the page and try again");
                         }
                     });
                 }
         
             });
         });
      </script>
   </body>
</html>