<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="icon" href="images/favicon-logo.ico">
    <title>Ecstatic Entertainment</title>
    <!-- Bootstrap core CSS -->
    <link href="css/bootstrap.min.css" rel="stylesheet">
    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
      <![endif]-->
    <!-- Custom styles for this template -->
    <link href="css/carousel.css" rel="stylesheet">
    <!-- Custom styles -->
    <link href="css/style.css" rel="stylesheet">
    <link href='http://fonts.googleapis.com/css?family=Droid+Sans' rel='stylesheet' type='text/css'>
    <!--PhotoSwipe-->
    <!-- Core CSS file -->
    <link rel="stylesheet" href="PhotoSwipe/css/photoswipe.css">
    <!-- Skin CSS file (styling of UI - buttons, caption, etc.)
         In the folder of skin CSS file there are also:
         - .png and .svg icons sprite,
         - preloader.gif (for browsers that do not support CSS animations) -->
    <link rel="stylesheet" href="PhotoSwipe/default-skin/default-skin.css">
    <!-- Core JS file -->
    <script src="PhotoSwipe/js/photoswipe.min.js"></script>
    <!-- UI JS file -->
    <script src="PhotoSwipe/js/photoswipe-ui-default.min.js"></script>
</head>
<!-- NAVBAR
      ================================================== -->

<body>
    <div class="navbar-wrapper navbar-wrapper-alt">
        <div class="container">
            <nav class="navbar navbar-inverse navbar-static-top">
                <div class="container">
                    <div class="navbar-header">
                        <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar"
                            aria-expanded="false" aria-controls="navbar">
                            <span class="sr-only">Toggle navigation</span>
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                        </button>
                        <a class="navbar-brand" href="index.html">Ecstatic Entertainment SK</a>
                    </div>
                    <div id="navbar" class="navbar-collapse collapse">
                        <ul class="nav navbar-nav">
                            <li><a href="index.html">Home</a></li>
                            <li><a href="offer.html">What We Offer</a></li>
                            <li class="dropdown">
                                <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true"
                                    aria-expanded="false">Build Your Event <span class="caret"></span></a>
                                <ul class="dropdown-menu">
                                    <li><a href="make-event-wedding.html">Weddings</a></li>
                                    <li><a href="make-event-grad.html">Graduation</a></li>
                                    <li><a href="make-event-staff-party.html">Staff Party</a></li>
                                    <li role="separator" class="divider"></li>
                                    <li><a href="contact.html">Request An Event</a></li>
                                </ul>
                            </li>
                            <li><a href="contact.html">Contact</a></li>
                        </ul>
                    </div>
                </div>
            </nav>
        </div>
    </div>
    <!-- Marketing messaging and featurettes -->
    <div class="container marketing">
        <!-- START THE FEATURETTES -->
        <!-- START FEATURETTE 1 -->
        <div class="row featurette">
            <div class="col-md-12">
                <h1>Wedding Package</h1>
                <p class="lead">Our base wedding package includes cocktail music, supper music, reception
                    music and receive two complimentary uplights for your backdrop.
                    Two LED Bars, 4 scanning Led lights (dance floor) with option
                    of fog machine. We also offer a complimentary wireless microphone
                    which our DJ will help control and monitor volume and feedback
                    so your guests receive the ultimate experience!</p>

                <div class="col-md-6 checkbox-container">
                    <label class="checkbox-inline">
                        <input type="checkbox" class="formCheckBox" id="ceremonies" value="option1"><span class="checkbox-text">Ceremony  (Same Location)</span>
                    </label>
                </div>
                <div class="col-md-6 checkbox-container">
                    <label class="checkbox-inline">
                        <input type="checkbox" class="formCheckBox" id="ceremoniesDiffLoc" value="option2"><span class="checkbox-text">Ceremony (Different Location)</span>
                    </label>
                </div>
            </div>
            <div class="col-md-12">
                <div class="col-md-6 checkbox-container">
                    <label class="checkbox-inline">
                        <input type="checkbox" class="formCheckBox" id="videoPres" value="option3"><span class="checkbox-text">Video Presentation (6x8 Screen)</span>
                    </label>
                </div>
                <div class="col-md-6 checkbox-container">
                    <label class="checkbox-inline">
                        <input type="checkbox" class="formCheckBox" id="uplighting" value="option4"><span class="checkbox-text">Uplighting</span>
                    </label>
                    <select id="uplightingInput">
                        <option value="1">1</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5</option>
                        <option value="6">6</option>
                        <option value="7">7</option>
                    </select>
                </div>
            </div>
            <div class="col-sm-12 event-info-field">
                <div class="col-sm-6">
                    <input type="text" class="form-control" id="name" name="name" placeholder="First &amp; Last Name"
                        value="">
                    <p class="formAlert" id="nameAlert"></p>
                </div>
                <div class="col-sm-6">
                    <input type="email" class="form-control" id="email" name="email" placeholder="example@domain.com"
                        value="">
                    <p class="formAlert" id="emailAlert"></p>
                </div>
            </div>
            <div class="col-md-12">
                <div class="col-md-6 total-container">
                    <!-- <span class="total-text" id="form-total"></span> -->
                </div>
                <div class="col-md-6 total-container">
                    <!-- <button class="btn btn-lg btn-primary offer-btn" id="offer-reset">Reset</button>
                  <button class="btn btn-lg btn-primary offer-btn" id="offer-calc">Calculate</button> -->
                    <input class="btn btn-lg btn-primary offer-btn" id="offer-submit" name="submit" type="submit"
                        value="Submit">
                </div>

            </div>
        </div>
        <!-- END FEATURETTE 1 -->
        <!-- End of the featurettes -->
        <hr class="featurette-divider">
        <!-- Footer -->
        <footer>
            <p class="pull-right"><a href="#">Back to top</a></p>
            <p>&copy; 2015 Ecstatic Entertainment SK &middot;</p>
        </footer>
    </div>
    <!-- /.container -->


    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
    <script src="js/bootstrap.min.js"></script>
    <script src="js/buildEvent.js"></script>
    <script type="text/javascript">
        $(document).ready(function() {

            $('#offer-submit').on('click', function(e) {

                //stops the page from refreshing
                e.preventDefault();

                var ceremonies = "False";
                var ceremoniesDiffLoc = "False"
                var videoPres = "False"

                var name = $('#name').val();
                var email = $('#email').val();

                var form_submit = true;

                if (name.length == 0) {
                    $("#nameAlert").html(
                        "Please enter your full name.");
                    $("#nameAlert").addClass(
                        "alert alert-danger");
                    form_submit = false;
                } else if (email.length == 0) {
                    $("#emailAlert").html(
                        "Please enter your email address.."
                    );
                    $("#emailAlert").addClass(
                        "alert alert-danger");
                    form_submit = false;
                } else {
                    form_submit = true;
                }

                var total = 875;

                if ($('#ceremonies').is(':checked')) {
                    total = total + 175;
                    ceremonies = "True";
                }

                if ($('#ceremoniesDiffLoc').is(':checked')) {
                    total = total + 375;
                    ceremoniesDiffLoc = "True"
                }

                if ($('#videoPres').is(':checked')) {
                    total = total + 150;
                    videoPres = "True";
                }

                if ($('#uplighting').is(':checked')) {
                    var uplightingNumber = $('#uplightingInput')
                        .val();

                    total = total + (uplightingNumber * 50);
                }

                var weddingEvent = {
                    type: "Wedding",
                    fullName: name,
                    emailAddress: email,
                    cer: ceremonies,
                    cerDiffLoc: ceremoniesDiffLoc,
                    video: videoPres,
                    uplight: uplightingNumber,
                    quotedTotal: total
                };


                JSON.stringify(weddingEvent);

                if (form_submit) {
                    $.ajax({
                        type: "POST",
                        url: "event-submission.php",
                        data: weddingEvent,
                        success: function(data) {
                            $("#name").prop(
                                'disabled',
                                true);
                            $("#email").prop(
                                'disabled',
                                true);
                            alert(
                                "You request has been sent!"
                            );
                            $("#nameAlert").removeClass(
                                "alert alert-danger"
                            );
                            $("#emailAlert").removeClass(
                                "alert alert-danger"
                            );
                        },
                        error: function(xhr,
                            ajaxOptions,
                            thrownError) {
                            alert(xhr.status);
                            alert(thrownError);
                            alert(
                                "An error occured.  Please refresh the page and try again"
                            );
                        }
                    });
                }

            });
        });
    </script>
</body>

</html>
